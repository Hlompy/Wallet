# Wallet API - –°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞–º–∏

REST API —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –∫–æ—à–µ–ª—å–∫–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —Å–Ω—è—Ç–∏—è —Å—Ä–µ–¥—Å—Ç–≤. –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–ø–æ—Å–æ–±–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ 1000+ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É –Ω–∞ –æ–¥–∏–Ω –∫–æ—à–µ–ª–µ–∫ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö.

##  –û–ø–∏—Å–∞–Ω–∏–µ

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç HTTP API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –∫–æ—à–µ–ª—å–∫–∞–º–∏:
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è (DEPOSIT) –∏ —Å–Ω—è—Ç–∏—è (WITHDRAW) —Å—Ä–µ–¥—Å—Ç–≤
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –∫–æ—à–µ–ª—å–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è

##  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞


```
cmd/app/           - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
internal/
  ‚îú‚îÄ‚îÄ handler/     - HTTP handlers (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤)
  ‚îú‚îÄ‚îÄ service/     - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
  ‚îú‚îÄ‚îÄ repository/  - —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
  ‚îú‚îÄ‚îÄ model/       - –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
  ‚îú‚îÄ‚îÄ config/      - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  ‚îú‚îÄ‚îÄ db/          - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
  ‚îî‚îÄ‚îÄ errors/      - –∫–∞—Å—Ç–æ–º–Ω—ã–µ –æ—à–∏–±–∫–∏
migrations/        - SQL –º–∏–≥—Ä–∞—Ü–∏–∏
```

### –°–ª–æ–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
```
HTTP Request ‚Üí Handler ‚Üí Service ‚Üí Repository ‚Üí PostgreSQL
```

##  –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Go 1.22** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **PostgreSQL 15** - —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Docker & Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Gorilla Mux** - HTTP —Ä–æ—É—Ç–∏–Ω–≥
- **database/sql** - —Ä–∞–±–æ—Ç–∞ —Å –ë–î
- **sqlmock** - –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î –¥–ª—è —Ç–µ—Å—Ç–æ–≤

##  API Endpoints

### 1. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ—à–µ–ª—å–∫–æ–º

**POST** `/api/v1/wallet`

**Request Body:**
```json
{
  "walletId": "11111111-1111-1111-1111-111111111111",
  "operationType": "DEPOSIT",
  "amount": 1000
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `walletId` (UUID) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ—à–µ–ª—å–∫–∞
- `operationType` (string) - —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏: `DEPOSIT` –∏–ª–∏ `WITHDRAW`
- `amount` (integer) - —Å—É–º–º–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ)

**Response (200 OK):**
```json
{
  "walletId": "11111111-1111-1111-1111-111111111111",
  "balance": 1000
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `400 Bad Request` - –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞, –Ω–µ–≤–µ—Ä–Ω—ã–π UUID, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
- `404 Not Found` - –∫–æ—à–µ–ª–µ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω (–ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–Ω—è—Ç–∏—è —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ—à–µ–ª—å–∫–∞)
- `500 Internal Server Error` - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∫–æ—à–µ–ª—å–∫–∞

**GET** `/api/v1/wallets/{WALLET_UUID}`

**Response (200 OK):**
```json
{
  "balance": 1000
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- `400 Bad Request` - –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç UUID
- `404 Not Found` - –∫–æ—à–µ–ª–µ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω

##  –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏

–°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —É—Å–ª–æ–≤–∏—è—Ö –≤—ã—Å–æ–∫–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (1000+ RPS):

1. **–ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `SELECT ... FOR UPDATE` –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å—Ç—Ä–æ–∫
2. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
3. **Connection Pool** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î (50 max open, 25 max idle)
4. **–£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏** - `READ COMMITTED` –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏

```go
tx.QueryRowContext(ctx, `SELECT balance FROM wallets WHERE id = $1 FOR UPDATE`, walletID)
```

## üê≥ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- Docker Compose

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone <repository-url>
cd Wallet
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `config.env`:**
```env
APP_PORT=8080
DB_HOST=postgres
DB_PORT=5432
DB_NAME=wallets
DB_USER=postgres
DB_PASSWORD=postgres
DB_SSLMODE=disable
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```bash
docker-compose up --build
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080`

4. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
docker-compose down
```

5. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker-compose down -v
```

##  –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞ (—Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ)
```bash
curl -X POST http://localhost:8080/api/v1/wallet \
  -H "Content-Type: application/json" \
  -d '{
    "walletId": "11111111-1111-1111-1111-111111111111",
    "operationType": "DEPOSIT",
    "amount": 5000
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "walletId": "11111111-1111-1111-1111-111111111111",
  "balance": 5000
}
```

### –°–Ω—è—Ç–∏–µ —Å—Ä–µ–¥—Å—Ç–≤
```bash
curl -X POST http://localhost:8080/api/v1/wallet \
  -H "Content-Type: application/json" \
  -d '{
    "walletId": "11111111-1111-1111-1111-111111111111",
    "operationType": "WITHDRAW",
    "amount": 1000
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "walletId": "11111111-1111-1111-1111-111111111111",
  "balance": 4000
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
```bash
curl http://localhost:8080/api/v1/wallets/11111111-1111-1111-1111-111111111111
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "balance": 4000
}
```

### –ü–æ–ø—ã—Ç–∫–∞ —Å–Ω—è—Ç–∏—è –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º –±–∞–ª–∞–Ω—Å–µ
```bash
curl -X POST http://localhost:8080/api/v1/wallet \
  -H "Content-Type: application/json" \
  -d '{
    "walletId": "11111111-1111-1111-1111-111111111111",
    "operationType": "WITHDRAW",
    "amount": 10000
  }'
```

**–û—Ç–≤–µ—Ç (400):**
```
insufficient funds
```

##  –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø–æ–∫—Ä—ã—Ç unit-—Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —Å–ª–æ–µ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
```bash
# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker exec -it wallet-app go test -v ./internal/...

# –ò–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker-compose exec app go test -v ./internal/...
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
```bash
docker exec -it wallet-app go test -cover ./internal/...

–ø—Ä–∏–º–µ—Ä
ok      github.com/Hlompy/Wallet/internal/service       0.002s  coverage: 100.0% of statements
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

- **handler_test.go** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP handlers —Å mock —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **service_test.go** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Å mock —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏
- **repository_test.go** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º sqlmock

–í—Å–µ —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–∫–∏ –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ä–µ–∞–ª—å–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∑–∞–ø—É—Å–∫–∞.

##  –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
CREATE TABLE IF NOT EXISTS wallets (
    id UUID PRIMARY KEY,
    balance BIGINT NOT NULL DEFAULT 0,
    CHECK (balance >= 0)
);

CREATE INDEX IF NOT EXISTS idx_wallets_id ON wallets(id);
```

**–ü–æ–ª—è:**
- `id` - UUID –∫–æ—à–µ–ª—å–∫–∞ (–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á)
- `balance` - –±–∞–ª–∞–Ω—Å –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö (–∫–æ–ø–µ–π–∫–∏, —Ü–µ–Ω—Ç—ã –∏ —Ç.–¥.)
- Constraint: –±–∞–ª–∞–Ω—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º

##  –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `config.env`:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|----------------------|
| APP_PORT | –ü–æ—Ä—Ç HTTP —Å–µ—Ä–≤–µ—Ä–∞ | 8080 |
| DB_HOST | –•–æ—Å—Ç PostgreSQL | postgres |
| DB_PORT | –ü–æ—Ä—Ç PostgreSQL | 5432 |
| DB_NAME | –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö | wallets |
| DB_USER | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î | postgres |
| DB_PASSWORD | –ü–∞—Ä–æ–ª—å –ë–î | postgres |
| DB_SSLMODE | –†–µ–∂–∏–º SSL | disable |

##  –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

1. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "insufficient funds"
2. **–ö–æ—à–µ–ª–µ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π WITHDRAW –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ—à–µ–ª—å–∫–µ
3. **–ù–µ–≤–µ—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π
4. **–ù–µ–≤–µ—Ä–Ω—ã–π UUID** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ UUID
5. **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400 –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–∞—Ä—Å–∏–Ω–≥–∞
6. **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è/–Ω—É–ª–µ–≤–∞—è —Å—É–º–º–∞** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 400

##  –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞
–ü—Ä–∏ –ø–µ—Ä–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ DEPOSIT –∫–æ—à–µ–ª–µ–∫ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü–æ–ø—ã—Ç–∫–∞ WITHDRAW –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ—à–µ–ª–µ–∫ –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É 404.

### –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è
–í—Å–µ —Å—É–º–º—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö –≤–∞–ª—é—Ç—ã (–∫–æ–ø–µ–π–∫–∏, —Ü–µ–Ω—Ç—ã) –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π.

### Graceful startup
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–∂–∏–¥–∞–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–æ 20 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º, –≤—ã–ø–æ–ª–Ω—è—è –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

### Healthcheck
PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–º–µ–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π healthcheck, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—â–∏–π, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ë–î.

##  –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```
github.com/google/uuid v1.6.0           - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è UUID
github.com/gorilla/mux v1.8.1           - HTTP —Ä–æ—É—Ç–∏–Ω–≥
github.com/joho/godotenv v1.5.1         - –∑–∞–≥—Ä—É–∑–∫–∞ .env —Ñ–∞–π–ª–æ–≤
github.com/lib/pq v1.10.9               - PostgreSQL –¥—Ä–∞–π–≤–µ—Ä
github.com/DATA-DOG/go-sqlmock v1.5.2   - –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ SQL –¥–ª—è —Ç–µ—Å—Ç–æ–≤
```

##  –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –¢–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
docker-compose logs -f app

# –¢–æ–ª—å–∫–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
docker-compose logs -f postgres
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```bash
docker exec -it wallet-postgres psql -U postgres -d wallets
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker-compose ps
```

##  Contributing

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some AmazingFeature'`)
4. Push –≤ branch (`git push origin feature/AmazingFeature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request


##  –ê–≤—Ç–æ—Ä

GitHub: [@Hlompy](https://github.com/Hlompy)

---
